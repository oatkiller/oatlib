(function(){var O,i=Function,F="prototype",a,q=Array,r,L,m="length",b="call",N="each",l="inject",e,H="slice",p="apply",z="array",v="concat",f="bind",I=null,E="curry",d="hasOwnProperty",w="combine",G=true,u="super_combine",j="constructor",x="injector",g="builder",A="object_memo",h,J="push",K="transition",y=window,n="setTimeout",B="clearTimeout",s="setInterval",c="clearInterval",k=false,M="get_once",t="";var t="",C="http://oatlab.com/oatlib/v2",D,O=i[F],a=q[F],r=[],L=function(R,o,Q){if(Q){var P=D(o);Q[P]=R;D[o]=P}else{D[o]=R}return R};(function(){var o=C+":::";window[C]=D=function(P){return o+P}})();D.toString=function(){return C};L(function(P){var R=this;for(var o=0,Q=R[m];o<Q;o++){P[b](R,R[o],o,R)}},N,a);L(function(o,P){this[D[N]](function(Q){o=P[b](this,o,Q)});return o},l,a);e=a[H];L(function(o){return e[p](o)},z);L(function(Q){var P=this,o=e[b](arguments,1);return function(){return P[p](Q,o[v](D[z](arguments)))}},f,O);L(function(){return this[D[f]][p](this,[I][v](D[z](arguments)))},E,O);(function(){var o=function(T,S,R){for(var Q in R){if(T(R,Q)){S[Q]=R[Q]}}return S},P=function(Q,R){return e[b](arguments,2)[D[l]](R,Q)};L(P[D[E]](o[D[E]](function(R,Q){return R[d](Q)})),w);L(P[D[E]](o[D[E]](function(){return G})),u)})();L(function(o){var P=function(){return D[u][p](I,[this][v](D[z](arguments)))};P[F]=o;return P},j);L(function(P,o){return function(){return D[z](arguments)[D[l]](P(),o)}},x);(function(){var o=function(P){return function(Q){return new (D[j](P))(Q)}};L(D[x](function(){return o({})},function(Q,P){return o(Q(P))}),g)})();L(function(o,P){return function(){var Q=this;return Q[d](o)?Q[o]:(Q[o]=P[p](Q,arguments))}},A);(setupTransition=function(){var o;o=h=L(function(Q,P,S){var R=o.getTransition({iterator:Q,durationInSeconds:P,callback:S});o.transitions[J](R);delete o.currentTime;R.consider(o.getCurrentTime(),o.getInterval());o.startPlaying();return G},K);D[w](h,{setTimeout:function(P,Q){return y[n](P,Q)},clearTimeout:function(P){return y[B](P)},setInterval:function(P,Q){return y[s](P,Q)},clearInterval:function(P){return y[c](P)},transitions:[],isPlaying:k,startPlaying:function(){if(this.isPlaying){return k}this.isPlaying=G;this.intervalHandle=this[s](this.iterate[D.bind](this),this.getInterval())},stopPlaying:function(){if(!this.isPlaying){return k}this[c](this.intervalHandle);this.isPlaying=k},fps:22,getInterval:D[A]("interval",function(){return(1000/this.fps)>>>0}),getTransition:D[g]({transition:transition,stop:function(){},getStartTime:D[M]("getStartTime",function(){return this.transition.getCurrentTime()}),getEndTime:get_once("getEndTime",function(){return this.getDuration()+this.transition.getCurrentTime()}),getDuration:get_once("getDuration",function(){return this.durationInSeconds*1000}),consider:function(Q,P){this.iterator(Q-this.getStartTime(),this.getDuration());if(this.getEndTime()-Q>P){return G}else{this.scheduleFinalRun(Q);return k}},scheduleFinalRun:function(Q){var P=this;this.transition[n](function(){P.iterator(P.getDuration(),P.getDuration());P.callback&&P.callback()},this.getEndTime()-Q)}}),iterate:function(){delete this.currentTime;var T=this,S=T.getCurrentTime(),P=T.getInterval(),R=[],U=this.transitions;U[D.each](function(W,V){if(!W.consider(S,P)){R[J](V)}});for(var Q=R.length-1;Q>-1;Q--){U.splice(R[Q],1)}if(!U.length){this.stopPlaying()}},getCurrentTime:D.object_memo("currentTime",function(){return new Date().getTime()})})})();tearDownTransition=function(){transition=h=null}})();